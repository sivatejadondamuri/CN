1. Character Stuffing

Aim:
To write a C program to implement character stuffing in data link layer framing.

Theory:
Character stuffing is a data link layer framing method where special characters are inserted into the data to distinguish it from frame delimiters. A start and end flag such as ‘D’ is used. If the data contains the same flag character, an escape character ‘E’ is added before it. This prevents ambiguity between actual data and control flags.

Program (C):

#include <stdio.h>
#include <string.h>

int main() {
    char data[100], stuffed[200];
    int i, j = 0;
    char flag = 'D', esc = 'E';

    printf("Enter data: ");
    scanf("%s", data);

    stuffed[j++] = flag;

    for (i = 0; i < strlen(data); i++) {
        if (data[i] == flag || data[i] == esc) {
            stuffed[j++] = esc;
        }
        stuffed[j++] = data[i];
    }

    stuffed[j++] = flag;
    stuffed[j] = '\0';

    printf("Stuffed Data: %s\n", stuffed);
    return 0;
}

Expected Output:

Enter data: ADBEFD
Stuffed Data: D AEDBEEFE D


---

2. Bit Stuffing

Aim:
To write a C program to implement bit stuffing in data link layer framing.

Theory:
Bit stuffing is a method in which a ‘0’ is inserted automatically after every sequence of five consecutive ‘1’s in the data. This prevents the data from accidentally containing the flag sequence (usually 01111110). The receiver removes the stuffed ‘0’ to recover the original data.

Program (C):

#include <stdio.h>
#include <string.h>

int main() {
    char data[200], stuffed[300];
    int i, j = 0, count = 0;

    printf("Enter bit stream: ");
    scanf("%s", data);

    for (i = 0; i < strlen(data); i++) {
        stuffed[j++] = data[i];

        if (data[i] == '1') {
            count++;
            if (count == 5) {
                stuffed[j++] = '0';
                count = 0;
            }
        } else {
            count = 0;
        }
    }

    stuffed[j] = '\0';

    printf("Stuffed Bits: %s\n", stuffed);
    return 0;
}

Expected Output:

Enter bit stream: 11111011111
Stuffed Bits: 1111100111110